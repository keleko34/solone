window.solone=function(){function p(a,c){var d=document.createElement("script");d.title=a;d.type="text/javascript";d.textContent=c;document.head.appendChild(d);return d}function l(a,c){return new Promise(function(d,b){c=c||m;var f=new XMLHttpRequest;f.open("GET",a,!0);c&&Object.keys(c).forEach(function(a){f.setRequestHeader(a,c[a])});f.onreadystatechange=function(){4===f.readyState&&(200===f.status?d(f.responseText):b(Error(f.status)))};f.send()})}function u(a,c){return Promise.all([l(g+h+"/components/"+
a+"/"+a+".js",c),l(g+h+"/components/"+a+"/"+a+".html",c),l(g+h+"/components/"+a+"/"+a+".css",c)]).then(function(d,c,f){p(a,'__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+d+"\r\n"+a+'.prototype.__extensionsHTML__ \x3d "'+c.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\n'+a+'.prototype.__extensionsCSS__ \x3d "'+f.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\nreturn '+a+";\r\n}());").setAttribute("env","dev");return __KaleoExtensions__.components[a]}).catch(function(){console.error("ERR! failed to fetch",
a,arguments)})}function v(a,c,d,b){return l(g+h+"/components/"+a+"/"+c+"/"+a+(d?"":".min")+".js",b).then(function(b){b=p(a,'__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+b+"\r\nreturn "+a+";\r\n}());");b.setAttribute("env",c);d&&b.setAttribute("debug",d);return __KaleoExtensions__.components[a]}).catch(function(c){console.error("ERR! failed to fetch",a,c)})}function w(a,c,d,e){var f={};return(new Promise(function(e,g){if(-1===x.indexOf(d))return g();if(!b.authorization)return e();
b.authorization({component:a,query:c,headers:f},e,g)})).then(function(){return __KaleoExtensions__.components[a]?__KaleoExtensions__.components[a]:b.useBackend?l(g+h+"/"+a+location.search,f).then(function(c){c=p(a,c);c.setAttribute("env",d);e&&c.setAttribute("debug",e);return __KaleoExtensions__.components[a]}):"dev"!==d&&d?v(a,d,e,f):u(a,f)}).catch(function(f){if(b.authorization)return b.onAuthFail(a,c);console.error("ERR! component fetch failed",a,d,e,f.stack)})}function y(a){return a?(t?t(a):decodeURIComponent(a)).split(/[&]/g).reduce(function(a,
b){b=b.split("\x3d");a[b[0]]=1===b.length?!0:b[1];return a},{}):{env:k.env||"dev"}}function e(a,b,d){return{value:a,writable:!!b,enumerable:!!d,configurable:!1}}function b(a){var b=y(location.search.replace("?",""));return w(a,b,b.env||k.env||n,b.debug||k.debug||q)}var h="",g="",x=["dev","prod"],t,m,k=__KaleoExtensions__.config||{},r=function(){},n=k.env||"dev",q=k.debug||!1;Object.defineProperties(b,{useBackend:e(!1,!0,!0),backendRouting:e(function(){b.useBackend=!0;return b}),authorization:e(void 0,
!0,!0),auth:e(function(a){"function"===typeof a&&(b.authorization=a);return b}),onAuthFail:e(function(){},!0,!0),setAuthFailListener:e(function(a){if(!a)return r;r="function"===typeof a?a:r;return b}),headers:e(function(a){if(!a)return m;m="object"===typeof a?a:m;return b}),prefix:e(function(a){if(!a)return h;h="string"===typeof a?a:h;return b}),base:e(function(a){if(!a)return g;g="string"===typeof a?a:g;return b}),config:e(function(){return k}),env:e(function(a){if(!a)return n;n="string"===typeof a?
a:n;return b}),debug:e(function(a){if("undefined"===typeof a)return q;q=!!a;return b})});"function"===typeof define&&define.amd&&define("solone",function(){return b});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.solone=b);return b}();
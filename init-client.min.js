window.solone=function(){function p(a,d){var c=document.createElement("script");c.title=a;c.type="text/javascript";c.textContent=d;document.head.appendChild(c);return c}function l(a,d){return new Promise(function(c,b){d=d||m;var f=new XMLHttpRequest;f.open("GET",a,!0);d&&Object.keys(d).forEach(function(a){f.setRequestHeader(a,d[a])});f.onreadystatechange=function(){4===f.readyState&&(200===f.status?c(f.responseText):b(Error(f.status)))};f.send()})}function t(a,d){return Promise.all([l(g+h+"/components/"+
a+"/"+a+".js",d),l(g+h+"/components/"+a+"/"+a+".html",d),l(g+h+"/components/"+a+"/"+a+".css",d)]).then(function(c,d,b){p(a,'__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+c+"\r\n"+a+'.prototype.__extensionsHTML__ \x3d "'+d.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\n'+a+'.prototype.__extensionsCSS__ \x3d "'+b.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\nreturn '+a+";\r\n}());").setAttribute("env","dev");return __KaleoExtensions__.components[a]}).catch(function(){console.error("ERR! failed to fetch",
a,arguments)})}function u(a,d,c,b){return l(g+h+"/components/"+a+"/"+d+"/"+a+(c?"":".min")+".js",b).then(function(b){b=p(a,'__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+b+"\r\nreturn "+a+";\r\n}());");b.setAttribute("env",d);c&&b.setAttribute("debug",c);return __KaleoExtensions__.components[a]}).catch(function(b){console.error("ERR! failed to fetch",a,b)})}function v(a,d,c,e){var f={};return(new Promise(function(e,g){if(-1===w.indexOf(c))return g();if(!b.authorization)return e();
b.authorization({component:a,query:d,headers:f},e,g)})).then(function(){return __KaleoExtensions__.components[a]?__KaleoExtensions__.components[a]:b.useBackend?l(g+h+"/"+a+location.search,f).then(function(b){b=p(a,b);b.setAttribute("env",c);e&&b.setAttribute("debug",e);return __KaleoExtensions__.components[a]}):"dev"!==c&&c?u(a,c,e,f):t(a,f)}).catch(function(f){if(b.authorization)return b.onAuthFail(a,d);console.error("ERR! component fetch failed",a,c,e,f.stack)})}function x(a){return a?(r?r(a):decodeURIComponent(a)).split(/[&]/g).reduce(function(a,
b){b=b.split("\x3d");a[b[0]]=1===b.length?!0:b[1];return a},{}):{env:k.env||"dev"}}function e(a,b,c){return{value:a,writable:!!b,enumerable:!!c,configurable:!1}}function b(a){var d=x(location.search.replace("?","")),c=d.env||k.env||n,e=d.debug||k.debug||q;b.authorization=__KaleoExtensions__.authentication||y;return v(a,d,c,e)}var h="",g="",w=["dev","prod"],r,m,k=__KaleoExtensions__.config||{},y=__KaleoExtensions__.authentication||function(a,b,c){return b()},n=k.env||"dev",q=k.debug||!1;Object.defineProperties(b,
{useBackend:e(!1,!0,!0),backendRouting:e(function(){b.useBackend=!0;return b}),authorization:e(void 0,!0,!0),auth:e(function(a){"function"===typeof a&&(b.authorization=__KaleoExtensions__.authentication=a);return b}),onAuthFail:e(function(){},!0,!0),setAuthFailListener:e(function(a){if(!a)return b.onAuthFail;b.onAuthFail="function"===typeof a?a:b.onAuthFail;return b}),headers:e(function(a){if(!a)return m;m="object"===typeof a?a:m;return b}),prefix:e(function(a){if(!a)return h;h="string"===typeof a?
a:h;return b}),base:e(function(a){if(!a)return g;g="string"===typeof a?a:g;return b}),config:e(function(){return k}),env:e(function(a){if(!a)return n;n="string"===typeof a?a:n;return b}),debug:e(function(a){if("undefined"===typeof a)return q;q=!!a;return b})});"function"===typeof define&&define.amd&&define("solone",function(){return b});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.solone=b);return b}();
window.solone=function(){function l(a,d){var c=document.createElement("script");c.title=a;c.type="text/javascript";c.textContent=d;document.head.appendChild(c);return c}function h(a,d){return new Promise(function(c,b){d=d||k;var g=new XMLHttpRequest;g.open("GET",a,!0);d&&Object.keys(d).forEach(function(a){g.setRequestHeader(a,d[a])});g.onreadystatechange=function(){4===g.readyState&&(200===g.status?c(g.responseText):b(Error(g.status)))};g.send()})}function m(a,d){return Promise.all([h(e.prefix+"/components/"+
a+"/"+a+".js",d),h(e.prefix+"/components/"+a+"/"+a+".html",d),h(e.prefix+"/components/"+a+"/"+a+".css",d)]).then(function(c,d,b){l(a,'__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+c+"\r\n"+a+'.prototype.__extensionsHTML__ \x3d "'+d.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\n'+a+'.prototype.__extensionsCSS__ \x3d "'+b.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\nreturn '+a+";\r\n}());").setAttribute("env","dev");return __KaleoExtensions__.components[a]}).catch(function(){console.error("ERR! failed to fetch",
a,arguments)})}function n(a,d,c,b){return h(e.prefix+"/components/"+a+"/"+d+"/"+a+(c?"":".min")+".js",b).then(function(b){b=l(a,'__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+b+"\r\nreturn "+a+";\r\n}());");b.setAttribute("env",d);c&&b.setAttribute("debug",c);return __KaleoExtensions__.components[a]}).catch(function(b){console.error("ERR! failed to fetch",a,b)})}function p(a,d,c,f){var g=g||{};return(new Promise(function(f,h){if(-1===q.concat(e.environments).indexOf(c))return h();
if(!b.authorization)return f();b.authorization({component:a,query:d,headers:g},f,h)})).then(function(){return __KaleoExtensions__.components[a]?__KaleoExtensions__.components[a]:b.useBackend?h(e.prefix+"/"+a+location.search,g).then(function(b){b=l(a,b);b.setAttribute("env",c);f&&b.setAttribute("debug",f);return __KaleoExtensions__.components[a]}):"dev"!==c&&c?n(a,c,f,g):m(a,g)}).catch(function(e){if(b.authorization)return b.onAuthFail(a,d);console.error("ERR! component fetch failed",a,c,f,e.stack)})}
function r(a){return a?(e.uriDecoder?e.uriDecoder(a):decodeURIComponent(a)).split(/[&]/g).reduce(function(a,b){b=b.split("\x3d");a[b[0]]=1===b.length?!0:b[1];return a},{}):{env:e.env||"dev"}}function f(a,b,c){return{value:a,writable:!!b,enumerable:!!c,configurable:!1}}function b(a){var d=r(location.search.replace("?","")),c=d.env||e.env||"dev",f=d.debug||e.debug||!1;b.authorization=__KaleoExtensions__.authentication;return p(a,d,c,f)}var e=__KaleoExtensions__.config,q=["dev","prod"],k={};__KaleoExtensions__.authentication||
(__KaleoExtensions__.authentication=function(a,b){return b()});Object.defineProperties(b,{useBackend:f(!1,!0,!0),backendRouting:f(function(){b.useBackend=e.backendRouting=!0;return b}),authorization:f(void 0,!0,!0),auth:f(function(a){"function"===typeof a&&(b.authorization=__KaleoExtensions__.authentication=a);return b}),onAuthFail:f(function(){},!0,!0),setAuthFailListener:f(function(a){if(!a)return b.onAuthFail;b.onAuthFail="function"===typeof a?a:b.onAuthFail;return b}),headers:f(function(a){if(!a)return k;
k="object"===typeof a?a:k;return b}),prefix:f(function(a){if(!a)return e.prefix;e.prefix="string"===typeof a?a:e.prefix;return b}),config:f(function(){return e}),env:f(function(a){if(!a)return e.env;e.env="string"===typeof a?a:e.env;return b}),debug:f(function(a){if("undefined"===typeof a)return e.debug;e.debug=!!a;return b})});"function"===typeof define&&define.amd&&define("solone",function(){return b});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.solone=b);return b}();
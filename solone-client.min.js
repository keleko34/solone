window.solone=function(){function l(a,e){var c=document.createElement("script");c.title=a;c.type="text/javascript";c.textContent=e;document.head.appendChild(c);return c}function h(a,e){return new Promise(function(c,b){e=e||k;var g=new XMLHttpRequest;g.open("GET",a,!0);e&&Object.keys(e).forEach(function(a){g.setRequestHeader(a,e[a])});g.onreadystatechange=function(){4===g.readyState&&(200===g.status?c(g.responseText):b(Error(g.status)))};g.send()})}function m(a,e){return Promise.all([h(f.prefix+"/components/"+
a+"/"+a+".js",e),h(f.prefix+"/components/"+a+"/"+a+".html",e),h(f.prefix+"/components/"+a+"/"+a+".css",e)]).then(function(c,e,b){l(a,"//@ sourceURL\x3d"+location.origin+"/components/"+a+".js\r\n//# sourceURL\x3d"+location.origin+"/components/"+a+'.js\r\n__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+c+"\r\n"+a+'.prototype.__extensionsHTML__ \x3d "'+e.replace(/[\r\n]/g,"").replace(/["]/g,"'")+'";\r\n'+a+'.prototype.__extensionsCSS__ \x3d "'+b.replace(/[\r\n]/g,"").replace(/["]/g,"'")+
'";\r\nreturn '+a+";\r\n}());").setAttribute("env","dev");return __KaleoExtensions__.components[a]}).catch(function(){console.error("ERR! failed to fetch",a,arguments)})}function n(a,e,c,b){return h(f.prefix+"/components/"+a+"/"+e+"/"+a+(c?"":".min")+".js",b).then(function(b){b=l(a,"//@ sourceURL\x3d"+location.origin+"/components/"+a+(c?"":".min")+".js\r\n//# sourceURL\x3d"+location.origin+"/components/"+a+(c?"":".min")+'.js\r\n__KaleoExtensions__.components["'+a+'"] \x3d (function(){\r\n'+b+"\r\nreturn "+
a+";\r\n}());");b.setAttribute("env",e);c&&b.setAttribute("debug",c);return __KaleoExtensions__.components[a]}).catch(function(b){console.error("ERR! failed to fetch",a,b)})}function p(a,e,c,d){var g=g||{};return(new Promise(function(d,h){if(-1===(f.environments||q).indexOf(c))return h();if(!b.authorization)return d();b.authorization({component:a,query:e,headers:g},d,h)})).then(function(){return __KaleoExtensions__.components[a]?__KaleoExtensions__.components[a]:b.useBackend?h(f.prefix+"/"+a+location.search,
g).then(function(b){b=l(a,"//@ sourceURL\x3d"+location.origin+"/components/"+a+(d?"":".min")+".js\r\n//# sourceURL\x3d"+location.origin+"/components/"+a+(d?"":".min")+".js\r\n"+b);b.setAttribute("env",c);d&&b.setAttribute("debug",d);return __KaleoExtensions__.components[a]}):"dev"!==c&&c?n(a,c,d,g):m(a,g)}).catch(function(f){if(b.authorization)return b.onAuthFail(a,e);console.error("ERR! component fetch failed",a,c,d,f.stack)})}function r(a){return a?(f.uriDecoder?f.uriDecoder(a):decodeURIComponent(a)).split(/[&]/g).reduce(function(a,
b){b=b.split("\x3d");a[b[0]]=1===b.length?!0:b[1];return a},{}):{env:f.env||"dev"}}function d(a,b,c){return{value:a,writable:!!b,enumerable:!!c,configurable:!1}}function b(a){var e=r(location.search.replace("?","")),c=e.env||f.env||"dev",d=e.debug||f.debug||!1;b.authorization=__KaleoExtensions__.authentication;return p(a,e,c,d)}var f=__KaleoExtensions__.config,q=["dev","prod"],k={};__KaleoExtensions__.authentication||(__KaleoExtensions__.authentication=function(a,b){return b()});Object.defineProperties(b,
{useBackend:d(!1,!0,!0),backendRouting:d(function(){b.useBackend=f.backendRouting=!0;return b}),authorization:d(void 0,!0,!0),auth:d(function(a){"function"===typeof a&&(b.authorization=__KaleoExtensions__.authentication=a);return b}),onAuthFail:d(function(){},!0,!0),setAuthFailListener:d(function(a){if(!a)return b.onAuthFail;b.onAuthFail="function"===typeof a?a:b.onAuthFail;return b}),headers:d(function(a){if(!a)return k;k="object"===typeof a?a:k;return b}),prefix:d(function(a){if(!a)return f.prefix;
f.prefix="string"===typeof a?a:f.prefix;return b}),config:d(function(){return f}),env:d(function(a){if(!a)return f.env;f.env="string"===typeof a?a:f.env;return b}),debug:d(function(a){if("undefined"===typeof a)return f.debug;f.debug=!!a;return b}),init:d(window.solone.init)});"function"===typeof define&&define.amd&&define("solone",function(){return b});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.solone=b);return b}();
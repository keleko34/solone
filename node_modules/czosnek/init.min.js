var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,m){b!=Array.prototype&&b!=Object.prototype&&(b[f]=m.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var f=0;return $jscomp.iteratorPrototype(function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,f){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var m=0,h={next:function(){if(m<b.length){var v=m++;return{value:f(v,b[v]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill=function(b,f,m,h){if(f){m=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var v=b[h];v in m||(m[v]={});m=m[v]}b=b[b.length-1];h=m[b];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(m,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
window.czosnek=function(){function b(a,g,c){this.root=a;this.pointers=[];this.parent=g;this.maps=c;Object.defineProperties(this,{localmaps:h(g),subnodes:v(g)})}function f(a,g,c,b,d,f,m,n,q,k,l,e,h){this.key=e?a.replace(H,""):a.replace(D,"");this.type=c;this.text=a;this.mapText=g;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();c=E(a);"string"===typeof c&&(c=E(c));var w={filters:[],vmFilters:[],model:[],local:[],session:[]},r=0,p=c.length;for(r;r<p;r++){var t=c[r];
t.match(I)?w.vmFilters.push(t.replace(J,"")):t.match(K)?(-1!==t.indexOf("~")&&w.model.push(t.replace(z,"")),-1!==t.indexOf("+")&&w.local.push(t.replace(z,"")),-1!==t.indexOf("-")&&w.session.push(t.replace(z,""))):w.filters.push(t)}this.filters=w;this.forComponent=e?a.replace(L,""):void 0;this.forId=h;this.isPointer=!!k;this.isDirty=1!==g.length;this.listener=d;this.property=b;this.local=f;this.localAttr=m;this.localComponent=k;this.node=n;this.maps=q;this.isEvent=!!l&&-1!==M.indexOf(m);this.isInput=
"INPUT"===n.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(n.type)}function m(a,g,c,b){return{value:a,writable:!!g,enumerable:!!b,configurable:!!c}}function h(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.localmaps=a)},enumerable:!0,configurable:!0}}function v(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.subnodes=a)},enumerable:!0,configurable:!0}}function E(a){return a.match(N)?
a.replace(O,"").split(","):[]}function A(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function B(a,g,c,h){if(!a.__czosnekExtensions__){var d=a.nodeType,p=-1===[8,3].indexOf(d);A(a)&&(h=a);Object.defineProperty(a,"__czosnekExtensions__",m(new b(h||a,g,c)));switch(d){case 3:a:if(d=h,a.textContent.match(x)){var r=a.textContent,n=a.__czosnekExtensions__,q=r.split(F).filter(Boolean),k=0,l=q.length;for(k;k<l;k++){var e=q[k];if(e.match(G))c.push(new f(e,q,"insert","innerHTML",
void 0,a,"textContent",g,c,d)),q[k]=c[c.length-1];else if(e.match(P)){if(1!==q.length){console.error("ERR: loop binds can not include adjacent content,",r,"in",g);break a}e=new f(e,q,d?"pointers.loop":"loop","innerHTML","html",a,"textContent",g,c,d,void 0,!0);c.push(e);q[k]=e;n.localmaps=e;d&&d.__czosnekExtensions__.pointers.push(e)}else e.match(x)&&(e=new f(e,q,"standard","innerHTML","html",a,"textContent",g,c,d),c.push(e),q[k]=e,n.localmaps=e,d&&d.__czosnekExtensions__.pointers.push(e))}}break;
case 8:d=h;if(a.textContent.match(x)&&(k=a.__czosnekExtensions__,r=[a.textContent.replace(Q,"$2")],l=r[0],l.match(x))){n=l.replace(D,"");n=new RegExp("(\x3c/{{s?"+n+"(.*?)\x3e)","g");q=[];l=new f(l,r,"node","innerHTML","html",a,"node",g,c,d);c.push(l);r[0]=l;k.localmaps=l;d&&d.__czosnekExtensions__.pointers.push(l);for(k=a.nextSibling;!k.textContent.match(n);)l=k.nextSibling,q.push(k),g.removeChild(k),e=document.createElement("div"),e.appendChild(k),B(e,a,c,d),k=l;g.removeChild(a);g.removeChild(k);
r[0].nodeChildren=q}break;default:for(g=h,d=C.call(a.attributes),r=a.__czosnekExtensions__,n=0,q=d.length,n;n<q;n++)if(l=d[n].value,l.match(x)){k=d[n].name;l=l.split(F).filter(Boolean);var w=l.length;e=0;for(e;e<w;e++){var u=l[e];u.match(G)?(c.push(new f(u,l,"insert",k,void 0,d[n],"value",a,c,g,!0)),l[e]=c[c.length-1]):u.match(x)&&(u=new f(u,l,"standard",k,k,d[n],"value",a,c,g,!0),c.push(u),l[e]=u,r.localmaps=u,g&&g.__czosnekExtensions__.pointers.push(u))}}}if(p)for(p=a.childNodes,g=0,d=p.length,
g;g<d;g++)d=p[g],B(d,a,c,h),d=p.length}return c}function y(a){this.name=a.tagName.toLowerCase();p[this.name]||console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=p[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=C.call(this.node.attributes).reduce(function(a,b){return(a[b.name]=b.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);
this.innerHTML=this.node.childNodes||[];a=document.createElement("div");a.innerHTML=this.template;if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=B(this.expanded,void 0,[])}var p={},M=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),C=Array.prototype.slice,R=/(<\/.*?>)/g,x=/(\{\{.*?\}\})/g,F=/(\{\{.*?\}\})/g,D=/[\s\{\}>]|(\|(.*))/g,
N=/(\{\{(.*?)\|(.*?)\}\})/g,O=/(.*?)\||[\s\{\}]/g,I=/(\()(.*?)(\))/g,J=/[\(\)]/g,K=/(\[)(.*?)(\])/g,z=/[\[\]~\+\-]/g,P=/((.*?)for)(.*?)(loop(.*))/g,H=/((.*?)for\s)|(\sloop(.*))/g,L=/(.*?loop\s)|(\|(.*))|[\s]/g,G=/(\{\{(\s*)>(.*?)(\}\}))/g,S=/(<(?!input|img)(.*?) (.*?)\/>)/g,T=/[(<\\)>]/g,U=/(<\/?\{\{(.*?)>)/g,Q=/(<({{.*?}})(.*))/g;Object.defineProperties(y,{register:m(function(a,b){void 0===p[a]?p[a]=b.replace(S,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(U,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",
name,Error().stack);return this},!1,!0),unregister:m(function(a){p[a]=void 0;return this},!1,!0),clearRegistry:m(function(){var a=Object.keys(p),b=0,c=a.length;for(b;b<c;b++){var f=a[b];p[f]=void 0}return this},!1,!0),isRegistered:m(function(a){return void 0!==p[a]},!1,!0),getUnknown:m(function(a){if("string"===typeof a){a=a.match(R);var b=[],c=0,f=a.length;for(c;c<f;c++){var d=a[c].replace(T,"");(document.createElement(d)instanceof HTMLUnknownElement||-1!==d.indexOf("-"))&&-1===b.indexOf(d)&&void 0===
p[d]&&b.push(d)}return b}return C.call(a.querySelectorAll("*")).filter(A)},!1,!0),isUnknown:m(A,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return y});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=y);return y}();